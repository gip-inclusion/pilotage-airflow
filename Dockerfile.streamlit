FROM python:3.12-slim

WORKDIR /app

COPY requirements/base.txt /app/requirements/base.txt
RUN pip install --no-cache-dir -r /app/requirements/base.txt

COPY streamlit_apps /app/streamlit_apps

ENV PYTHONPATH=/app

CMD ["bash", "-lc", "streamlit run streamlit_apps/lemarche_mesure_impact_entreprise/app.py --server.address=0.0.0.0 --server.port=${PORT:-8501}"]
